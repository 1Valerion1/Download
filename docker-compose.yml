version: '3.9'
services:
  webapp:
    image: download:latest
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - 8089:8089
    volumes:
      - /path/to/your/data:/data

  message-broker:
    image: rabbitmq:3-management
    ports:
      - "5672:5672"
      - "15672:15672"
    networks:
      - app-network
    environment:
      RABBITMQ_DEFAULT_USER: guest
      RABBITMQ_DEFAULT_PASS: guest

  python_model:
    image: python:latest
    deploy:
      replicas: 3  # количество реплик, которые вы хотите запустить
    ports:
      - "89:89"  # пример порта, который используется моделью

